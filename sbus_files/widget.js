(function(){var e,t,n,r=[].slice;n="#account#.typeform.com";t=function(){function s(e){var t,n;this.options=e;if(typeof jQuery==="undefined"||jQuery===null){t=document.createElement("script");t.id="cdn_jquery";t.type="text/javascript";t.src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js";n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}this.tryReady(0)}var t,r,i;r="//"+n+"/app/embed/#uid#";i=false;t=[];s.prototype.template={wrapper:'<div class="typeform-wrapper"></div>',iframe:'<iframe width="100%" height="100%" frameborder="0" src="#url#"></iframe>'};s.prototype.tryReady=function(e){var t;t=this;if(typeof jQuery!=="undefined"&&jQuery!==null){if(!i){return this.initialise()}}else{if(e<=5e3){return setTimeout(function(){return t.tryReady(e+200)},200)}else{return console.log("Error: jquery not loaded")}}};s.prototype.initialise=function(){var t,i=this;t=this;this.$typeforms=jQuery(".typeform-widget");if(/mobile|tablet|android/i.test(navigator.userAgent.toLowerCase())){jQuery("body").addClass("typeform-mobile");t=this;return this.$typeforms.each(function(){var n,i,s,o,u;n=jQuery(this);s=n.data("url").split("/")[2].split(".")[0];u=n.data("url").split("/")[4].split("?")[0];i=jQuery(t.template.wrapper);i.css({position:"relative",width:"100%",height:"100%"});o={};o.uid=u;o.account=s;o.text=jQuery(this).data("text");return jQuery.getJSON(r.replace("#uid#",o.uid).replace("#account#",o.account)+"?jsoncallback=?",function(r){var s;jQuery.extend(o,r);s=new e(o);n.append(i.append(s.render()));return setTimeout(function(){s.resize();return setTimeout(function(){return t.$typeforms.addClass("typeform-ready")},1e3)},2e3)})})}else{jQuery("body").addClass("typeform-default");this.$typeforms.each(function(e){var n,r;r=jQuery(t.template.wrapper);r.css({position:"relative",width:"100%",height:"100%"});n=jQuery(t.template.iframe.replace("#url#",jQuery(this).data("url")));jQuery(this).append(r.append(n));if(e===0){return n[0].contentWindow.focus()}});return jQuery(window).on("message",function(e){var t;e=e.originalEvent;t=new RegExp("^(?:f|ht)tp(?:s)?://([^/]+)","im");n=e.origin.match(t)[1].toString();if(!/typeform/.test(n)){return false}if(/fancy/.test(e.data)){return false}if(e.data==="ESC"){return i.close()}else{return window.location.href=e.data}})}};return s}();e=function(){function e(e){var t,n,r,i,s,o,u,a,f,l;a=this;f=e.name;o=document.createElement("link");o.rel="stylesheet";o.href="https://s3-eu-west-1.amazonaws.com/share.typeform.com/style-widget.css";u=document.getElementsByTagName("head")[0];u.appendChild(o,u);l=false;if(e["welcome-image"]!==""){l=true;f="<img style='max-width:90%' src='"+e["welcome-image"]+"'/>"}if(e["font-google"]){jQuery('<link id="font" href="https://fonts.googleapis.com/css?family='+e["font-google"]+"&text="+e["name"]+'" rel="stylesheet" type="text/css">').appendTo(jQuery("head"))}this.$title=jQuery(this.template.title.replace("#title#",f)).css({color:"#"+e["primary-color"],fontFamily:e["font-family"]});r="";if(e["background-image"]!=="undefined"){r="url("+e["background-image"]+")"}this.$background=jQuery(this.template.background).css({backgroundColor:"#"+e["background-color"],backgroundImage:r,backgroundRepeat:e["background-repeat"]});if(e["background-brightness"]){i=e["background-brightness"];s=i>0?255:0;this.$backgroundOverlay=jQuery(this.template.backgroundOverlay).css({backgroundColor:"rgba("+s+","+s+","+s+","+Math.abs(i)+")"});this.$backgroundOverlay.appendTo(this.$background)}n=jQuery(this.template.text.replace("#text#",e.text)).css({color:"#"+e["primary-color"]});t=jQuery(this.template.overlay).css({backgroundColor:"#"+e["background-color"]});this.$banner=jQuery(this.template.banner.replace("#uid#",e.uid).replace("#account#",e.account)).append(this.$title).append(this.$background).append(t,n)}e.prototype.template={banner:"<div class='typeform-banner'><a href='//"+n+"/to/#uid#' target='_blank'></a><div class='typeform-icon'></div></div>",text:"<div class='typeform-text'>#text#</div>",title:"<div class='typeform-title'>#title#</div>",background:"<div class='typeform-background'></div>",backgroundOverlay:"<div class='typeform-background-overlay'></div>",overlay:"<div class='typeform-overlay'></div>"};e.prototype.render=function(){return this.$banner};e.prototype.resize=function(){var e,t;t=this.$background.height();e=this.$title.height();return this.$title.css({top:(t-e)/2+"px"})};return e}();window.namespace=function(e,t,n){var i,s,o,u,a,f;if(arguments.length<3){a=[window].concat(r.call(arguments)),e=a[0],t=a[1],n=a[2]}s=e;f=t.split(".");for(o=0,u=f.length;o<u;o++){i=f[o];e=e[i]||(e[i]={})}return n(e,s)};namespace("Typeform",function(e){return e.Widget=t});if(!window.typeformLoaded){new Typeform.Widget}window.typeformLoaded=true}).call(this)